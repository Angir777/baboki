/*!
    *****************************************

    * Module: products-gallery
    * File: products-gallery.min.js
    * Version: 1.0.0

    *****************************************
*/
var App=(function(){'use strict';var gallery=$('#js-gallery');var Gallery={zoom:function(imgContainer,img){var containerHeight=imgContainer.outerHeight(),src=img.attr('src');if(src.indexOf('/products/normal/')!=-1){imgContainer.css("height",containerHeight);img.attr('src',src.replace('/products/normal/','/products/zoom/'));gallery.addClass('is-zoomed');img.draggable({drag:function(event,ui){ui.position.left=Math.min(100,ui.position.left);ui.position.top=Math.min(100,ui.position.top);}});}else{imgContainer.css("height","auto");img.attr('src',src.replace('/products/zoom/','/products/normal/'));gallery.removeClass('is-zoomed');}},switch:function(trigger,imgContainer){var src=trigger.attr('href'),thumbs=trigger.siblings(),img=trigger.parent().prev().children();trigger.addClass('is-active');thumbs.each(function(){if($(this).hasClass('is-active')){$(this).removeClass('is-active');}});if(gallery.hasClass('is-zoomed')){gallery.removeClass('is-zoomed');imgContainer.css("height","auto");}img.attr('src',src);}};function init(){gallery.delegate('a','click',function(event){var trigger=$(this);var triggerData=trigger.data("gallery");if(triggerData==='zoom'){var imgContainer=trigger.parent(),img=trigger.siblings();Gallery.zoom(imgContainer,img);}else if(triggerData==='thumb'){var imgContainer=trigger.parent().siblings();Gallery.switch(trigger,imgContainer);}else{return;}event.preventDefault();});}return{init:init};})();App.init();